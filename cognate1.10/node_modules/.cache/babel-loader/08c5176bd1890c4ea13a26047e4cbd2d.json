{"ast":null,"code":"var _jsxFileName = \"D:\\\\Art Lisboa Files\\\\React files\\\\cognate1.10\\\\src\\\\Verification_code.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport { Typography } from '@mui/material';\nimport Alert from '@mui/material/Alert';\nimport axios from 'axios';\nimport { UserContext } from '../App';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Verification_code = () => {\n  _s();\n\n  const [disable, setDisbale] = useState(false);\n  const [text, setText] = useState(\"\");\n  const [number, setNumber] = useState(0);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (number !== 0) {\n        setNumber(number - 1);\n      } else {\n        setDisbale(false);\n      }\n    }, 1000);\n    return () => {\n      clearInterval(interval);\n    };\n  });\n  const [a, setA] = useState(\"\"); // Update code\n\n  const update_code = data => {\n    axios.post('http://localhost/REACTJS/cognate1%20api/update_code.php', {\n      \"code\": data\n    }).then(res => {\n      console.log(res.data);\n    });\n  }; // Send verication code\n\n\n  const sending_code = e => {\n    e.preventDefault();\n    axios.get('http://localhost:3001/Authentication').then(res => update_code(res.data.code));\n    setNumber(100);\n    setDisbale(true);\n    setText(\"Please submit the verification code again because it has expired.\");\n    setInput_code(\"\");\n  }; // Verify input code\n\n\n  let NavS = useNavigate();\n  const [err, setErr] = useState(false);\n  const [input_code, setInput_code] = useState(\"\");\n  const {\n    setUser\n  } = useContext(UserContext);\n\n  const verifiy_inputcode = e => {\n    e.preventDefault();\n    axios.post('http://localhost/REACTJS/cognate1%20api/code.php', {\n      \"code\": input_code\n    }).then(res => {\n      setErr(!res.data[0].Result);\n      setUser_code({\n        loggedIn_code: res.data[0].Result\n      });\n\n      if (res.data[0].Result) {\n        NavS(\"/Mainpage\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Dialog, {\n      open: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"High Resolution\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"To submit verification to your account, please click the send button and enter the verification code in the textbox.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"normal\",\n          id: \"name\",\n          label: \"Authentrication Code\",\n          type: \"number\",\n          fullWidth: true,\n          variant: \"standard\",\n          value: input_code,\n          onChange: e => setInput_code(e.target.value),\n          error: err,\n          helperText: err ? \"Invalid Text\" : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContentText, {\n          paddingY: 1,\n          children: [disable === true && \"verification code expired in \" + number + \".\", disable === false && text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: disable,\n          variant: \"outlined\",\n          onClick: sending_code,\n          children: \"send code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          disabled: !disable,\n          onClick: verifiy_inputcode,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: e => {\n            e.preventDefault();\n            setText(\"\");\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Verification_code, \"C0f54AIM18/ZVbiZvsuk2rAaO1I=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Verification_code;\nexport default Verification_code;\n\nvar _c;\n\n$RefreshReg$(_c, \"Verification_code\");","map":{"version":3,"sources":["D:/Art Lisboa Files/React files/cognate1.10/src/Verification_code.js"],"names":["React","useEffect","useState","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Typography","Alert","axios","UserContext","useNavigate","Verification_code","disable","setDisbale","text","setText","number","setNumber","interval","setInterval","clearInterval","a","setA","update_code","data","post","then","res","console","log","sending_code","e","preventDefault","get","code","setInput_code","NavS","err","setErr","input_code","setUser","useContext","verifiy_inputcode","Result","setUser_code","loggedIn_code","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport { Typography } from '@mui/material';\r\nimport Alert from '@mui/material/Alert';\r\nimport axios from 'axios';\r\nimport { UserContext } from '../App';\r\nimport {  useNavigate } from 'react-router-dom';\r\n\r\nconst Verification_code = () => {\r\n\r\nconst [disable,setDisbale] =  useState(false)\r\nconst [text,setText] = useState(\"\")\r\nconst [number, setNumber] = useState(0)\r\nuseEffect(\r\n  () => \r\n  { \r\n   const interval = setInterval(()=>{\r\n\r\n    if (number !== 0) \r\n    {\r\n      setNumber(number - 1)\r\n    }else{\r\n      setDisbale(false)\r\n    }\r\n    },1000)\r\n\r\n\r\n    return () => \r\n    {\r\n      clearInterval(interval)\r\n    }\r\n\r\n  }\r\n\r\n  )\r\n  const [a,setA] = useState(\"\")\r\n  // Update code\r\n  const update_code = (data) =>{\r\n\r\n    axios.post('http://localhost/REACTJS/cognate1%20api/update_code.php', { \"code\" : data})\r\n    .then(res=>\r\n      {\r\n        console.log(res.data) \r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  // Send verication code\r\n  const sending_code = e => {\r\n    e.preventDefault()\r\n        axios.get('http://localhost:3001/Authentication')\r\n        .then(res=>update_code(res.data.code))\r\n\r\n    setNumber(100)\r\n    setDisbale(true)\r\n    setText(\"Please submit the verification code again because it has expired.\")\r\n    setInput_code(\"\")\r\n  }\r\n\r\n\r\n// Verify input code\r\nlet NavS = useNavigate();\r\nconst [err,setErr] = useState(false)\r\nconst [input_code,setInput_code] = useState(\"\")\r\nconst {setUser } = useContext(UserContext);\r\n  const verifiy_inputcode = e => {\r\n    e.preventDefault()\r\n\r\n    axios.post('http://localhost/REACTJS/cognate1%20api/code.php', { \"code\" : input_code})\r\n    .then(res=>\r\n      {\r\n        setErr(!res.data[0].Result)\r\n        setUser_code({loggedIn_code: res.data[0].Result})\r\n        if (res.data[0].Result) {NavS(\"/Mainpage\")}\r\n      }\r\n    )\r\n  }\r\n  return (\r\n    <div>\r\n      \r\n      <Dialog open={true} >\r\n        <DialogTitle>High Resolution</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n          To submit verification to your account, please click the send button and enter the verification code in the textbox.\r\n          </DialogContentText>\r\n\r\n          {/* Input code fiels */}\r\n          <TextField\r\n            autoFocus\r\n            margin=\"normal\"\r\n            id=\"name\"\r\n            label=\"Authentrication Code\"\r\n            type=\"number\"\r\n            fullWidth\r\n            variant=\"standard\"\r\n            value = {input_code}\r\n            onChange={e=>setInput_code(e.target.value)}\r\n            error = {err}\r\n            helperText = {err? \"Invalid Text\" : \"\"}\r\n          />\r\n\r\n          <DialogContentText paddingY={1}>\r\n            {disable === true && \"verification code expired in \" + number + \".\"}\r\n            {disable === false && text}\r\n          </DialogContentText>\r\n\r\n             {/*send code  */}\r\n          <Button \r\n          disabled={disable} \r\n          variant='outlined' \r\n          onClick={sending_code}>send code</Button> \r\n      \r\n        </DialogContent>\r\n        <DialogActions>\r\n\r\n          {/* Submit verification code */}\r\n          <Button disabled={!disable}  onClick={verifiy_inputcode}>Submit</Button>\r\n\r\n          {/* Cancel verification code */}\r\n          <Button  onClick={e=>\r\n          {\r\n            e.preventDefault()\r\n            setText(\"\") \r\n          }\r\n            }>Cancel</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Verification_code"]},"metadata":{},"sourceType":"module"}